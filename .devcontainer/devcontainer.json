{
	"name": "C# (.NET)",
	"image": "mcr.microsoft.com/devcontainers/dotnet:1-9.0-bookworm",
	"features": {
		"ghcr.io/devcontainers/features/dotnet:2": {
			"version": "9.0"
		},
		"ghcr.io/jsburckhardt/devcontainer-features/codex:1": {}
	},
	"containerEnv": {
		"CODEX_HOME": "${containerWorkspaceFolder}/.codex"
	},
	"runArgs": [
		"--init",
		"--privileged",
		"-v",
		"/var/run/docker.sock:/var/run/docker.sock"
	],
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-dotnettools.csdevkit",
				"ms-dotnettools.csharp",
				"ms-dotnettools.vscode-dotnet-runtime",
				"ms-dotnettools.dotnet-interactive-vscode",
				"codezombiech.gitignore",
				"dbaeumer.vscode-eslint",
				"donjayamanne.githistory",
				"eamodio.gitlens",
				"fabiospampinato.vscode-diff",
				"github.copilot",
				"github.copilot-chat",
				"github.vscode-pull-request-github",
				"mhutchie.git-graph",
				"openai.chatgpt"
			],
			"settings": {
				"dotnet.server.useOmnisharp": false,
				"dotnet.formatting.enable": true,
				"editor.formatOnSave": true
			}
		}
	},
	"postCreateCommand": [
		"/bin/bash",
		"-c",
		"set -euo pipefail; sudo apt-get update; sudo apt-get install -y curl ca-certificates jq nodejs npm; curl -fsSL -o /tmp/gk.deb https://github.com/gitkraken/gk-cli/releases/download/v3.1.40/gk_3.1.40_linux_amd64.deb; sudo apt-get install -y /tmp/gk.deb; rm /tmp/gk.deb; command -v codex >/dev/null 2>&1 || sudo npm install -g @openai/codex; dotnet --info"
	]
}
